/* PubSub - v0.1.0 - 2012-11-11
* Copyright (c) 2012 Adam Zamozniewicz <zamozniewicz@gmail.com>
* Released under the MIT License */
Array.prototype.forEach||(Array.prototype.forEach=function(e,t){"use strict";for(var n=0,r=this.length;n<r;++n)e.call(t,this[n],n,this)}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=[],i=arguments[1];for(var s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}),function(e){"use strict";var t=typeof window!="undefined"&&window||this,n=typeof module=="object"&&typeof exports=="object",r=typeof define=="function"&&define.amd;n?module.exports=e():r?define(e):t.pubsub=e()}(function(e){"use strict";var t={},n={};return n.subscribe=function(e,n){if(typeof e!="string")throw new Error("Provide a valid message to subscribe to.");t[e]=t[e]||[],t[e].push(n)},n.unsubscribe=function(e,n){if(typeof e!="string")throw new Error("Provide a valid message to unsubscribe.");if(!t[e])return;t[e]=t[e].filter(function(e){return e!==n})},n.publish=function(e,n){if(typeof e!="string")throw new Error("Provide a valid topic name to publish.");if(!t[e])return;t[e].forEach(function(e){e(n)})},n});